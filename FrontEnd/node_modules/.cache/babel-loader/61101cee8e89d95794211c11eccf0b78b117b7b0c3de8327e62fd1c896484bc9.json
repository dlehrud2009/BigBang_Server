{"ast":null,"code":"import{useState,useEffect}from\"react\";import axios from\"axios\";export function useSimulation(userid){const[stage,setStage]=useState(\"bigbang\");const[status,setStatus]=useState(\"paused\");const fetchStage=async()=>{try{const res=await axios.get(\"http://localhost:4000/api/simulation/stage/\".concat(userid));setStage(res.data.stage);}catch(err){console.error(err);}};const startSimulation=async()=>{try{const res=await axios.post(\"http://localhost:4000/api/simulation/start\",{userid});setStatus(res.data.status);setStage(res.data.stage);}catch(err){console.error(err);}};const pauseSimulation=async()=>{try{const res=await axios.post(\"http://localhost:4000/api/simulation/pause\",{userid});setStatus(res.data.status);}catch(err){console.error(err);}};useEffect(()=>{const interval=setInterval(fetchStage,1000);return()=>clearInterval(interval);},[userid]);return{stage,status,startSimulation,pauseSimulation};}","map":{"version":3,"names":["useState","useEffect","axios","useSimulation","userid","stage","setStage","status","setStatus","fetchStage","res","get","concat","data","err","console","error","startSimulation","post","pauseSimulation","interval","setInterval","clearInterval"],"sources":["/Users/cellia/Desktop/bigbang/FrontEnd/src/hooks/useSimulation.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport function useSimulation(userid) {\n  const [stage, setStage] = useState(\"bigbang\");\n  const [status, setStatus] = useState(\"paused\");\n\n  const fetchStage = async () => {\n    try {\n      const res = await axios.get(`http://localhost:4000/api/simulation/stage/${userid}`);\n      setStage(res.data.stage);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const startSimulation = async () => {\n    try {\n      const res = await axios.post(\"http://localhost:4000/api/simulation/start\", { userid });\n      setStatus(res.data.status);\n      setStage(res.data.stage);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const pauseSimulation = async () => {\n    try {\n      const res = await axios.post(\"http://localhost:4000/api/simulation/pause\", { userid });\n      setStatus(res.data.status);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  useEffect(() => {\n    const interval = setInterval(fetchStage, 1000);\n    return () => clearInterval(interval);\n  }, [userid]);\n\n  return { stage, status, startSimulation, pauseSimulation };\n}"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,MAAO,SAAS,CAAAC,aAAaA,CAACC,MAAM,CAAE,CACpC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGN,QAAQ,CAAC,SAAS,CAAC,CAC7C,KAAM,CAACO,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,QAAQ,CAAC,CAE9C,KAAM,CAAAS,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAR,KAAK,CAACS,GAAG,+CAAAC,MAAA,CAA+CR,MAAM,CAAE,CAAC,CACnFE,QAAQ,CAACI,GAAG,CAACG,IAAI,CAACR,KAAK,CAAC,CAC1B,CAAE,MAAOS,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAG,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAP,GAAG,CAAG,KAAM,CAAAR,KAAK,CAACgB,IAAI,CAAC,4CAA4C,CAAE,CAAEd,MAAO,CAAC,CAAC,CACtFI,SAAS,CAACE,GAAG,CAACG,IAAI,CAACN,MAAM,CAAC,CAC1BD,QAAQ,CAACI,GAAG,CAACG,IAAI,CAACR,KAAK,CAAC,CAC1B,CAAE,MAAOS,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAK,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAT,GAAG,CAAG,KAAM,CAAAR,KAAK,CAACgB,IAAI,CAAC,4CAA4C,CAAE,CAAEd,MAAO,CAAC,CAAC,CACtFI,SAAS,CAACE,GAAG,CAACG,IAAI,CAACN,MAAM,CAAC,CAC5B,CAAE,MAAOO,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAEDb,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,QAAQ,CAAGC,WAAW,CAACZ,UAAU,CAAE,IAAI,CAAC,CAC9C,MAAO,IAAMa,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,CAAChB,MAAM,CAAC,CAAC,CAEZ,MAAO,CAAEC,KAAK,CAAEE,MAAM,CAAEU,eAAe,CAAEE,eAAgB,CAAC,CAC5D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}