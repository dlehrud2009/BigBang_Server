{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport function useSimulation(userid) {\n  _s();\n  const [stage, setStage] = useState(\"bigbang\");\n  const [status, setStatus] = useState(\"paused\");\n  const fetchStage = async () => {\n    if (!userid) return; // userid 없으면 실행 안 함\n    try {\n      const res = await axios.get(`http://localhost:4000/api/simulation/stage/${userid}`);\n      setStage(res.data.stage);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const startSimulation = async () => {\n    if (!userid) return;\n    try {\n      const res = await axios.post(\"http://localhost:4000/api/simulation/start\", {\n        userid\n      });\n      setStatus(res.data.status);\n      setStage(res.data.stage);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const pauseSimulation = async () => {\n    if (!userid) return;\n    try {\n      const res = await axios.post(\"http://localhost:4000/api/simulation/pause\", {\n        userid\n      });\n      setStatus(res.data.status);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  useEffect(() => {\n    if (!userid) return;\n    const interval = setInterval(fetchStage, 1000);\n    return () => clearInterval(interval);\n  }, [userid]);\n  return {\n    stage,\n    status,\n    startSimulation,\n    pauseSimulation\n  };\n}\n_s(useSimulation, \"2ghj/Jlg/qSCv+a0sUH6b2Afle4=\");","map":{"version":3,"names":["useState","useEffect","axios","useSimulation","userid","_s","stage","setStage","status","setStatus","fetchStage","res","get","data","err","console","error","startSimulation","post","pauseSimulation","interval","setInterval","clearInterval"],"sources":["/Users/cellia/Desktop/bigbang/FrontEnd/src/hooks/useSimulation.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport function useSimulation(userid) {\n  const [stage, setStage] = useState(\"bigbang\");\n  const [status, setStatus] = useState(\"paused\");\n\n  const fetchStage = async () => {\n    if (!userid) return; // userid 없으면 실행 안 함\n    try {\n      const res = await axios.get(`http://localhost:4000/api/simulation/stage/${userid}`);\n      setStage(res.data.stage);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const startSimulation = async () => {\n    if (!userid) return;\n    try {\n      const res = await axios.post(\"http://localhost:4000/api/simulation/start\", { userid });\n      setStatus(res.data.status);\n      setStage(res.data.stage);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const pauseSimulation = async () => {\n    if (!userid) return;\n    try {\n      const res = await axios.post(\"http://localhost:4000/api/simulation/pause\", { userid });\n      setStatus(res.data.status);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  useEffect(() => {\n    if (!userid) return;\n    const interval = setInterval(fetchStage, 1000);\n    return () => clearInterval(interval);\n  }, [userid]);\n\n  return { stage, status, startSimulation, pauseSimulation };\n}\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,SAASC,aAAaA,CAACC,MAAM,EAAE;EAAAC,EAAA;EACpC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,SAAS,CAAC;EAC7C,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,QAAQ,CAAC;EAE9C,MAAMU,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACN,MAAM,EAAE,OAAO,CAAC;IACrB,IAAI;MACF,MAAMO,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,8CAA8CR,MAAM,EAAE,CAAC;MACnFG,QAAQ,CAACI,GAAG,CAACE,IAAI,CAACP,KAAK,CAAC;IAC1B,CAAC,CAAC,OAAOQ,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB;EACF,CAAC;EAED,MAAMG,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI,CAACb,MAAM,EAAE;IACb,IAAI;MACF,MAAMO,GAAG,GAAG,MAAMT,KAAK,CAACgB,IAAI,CAAC,4CAA4C,EAAE;QAAEd;MAAO,CAAC,CAAC;MACtFK,SAAS,CAACE,GAAG,CAACE,IAAI,CAACL,MAAM,CAAC;MAC1BD,QAAQ,CAACI,GAAG,CAACE,IAAI,CAACP,KAAK,CAAC;IAC1B,CAAC,CAAC,OAAOQ,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB;EACF,CAAC;EAED,MAAMK,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI,CAACf,MAAM,EAAE;IACb,IAAI;MACF,MAAMO,GAAG,GAAG,MAAMT,KAAK,CAACgB,IAAI,CAAC,4CAA4C,EAAE;QAAEd;MAAO,CAAC,CAAC;MACtFK,SAAS,CAACE,GAAG,CAACE,IAAI,CAACL,MAAM,CAAC;IAC5B,CAAC,CAAC,OAAOM,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB;EACF,CAAC;EAEDb,SAAS,CAAC,MAAM;IACd,IAAI,CAACG,MAAM,EAAE;IACb,MAAMgB,QAAQ,GAAGC,WAAW,CAACX,UAAU,EAAE,IAAI,CAAC;IAC9C,OAAO,MAAMY,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAAChB,MAAM,CAAC,CAAC;EAEZ,OAAO;IAAEE,KAAK;IAAEE,MAAM;IAAES,eAAe;IAAEE;EAAgB,CAAC;AAC5D;AAACd,EAAA,CA1CeF,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}