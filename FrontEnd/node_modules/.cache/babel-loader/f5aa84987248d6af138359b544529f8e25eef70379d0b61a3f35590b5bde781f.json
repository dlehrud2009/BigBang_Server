{"ast":null,"code":"import _objectSpread from\"/Users/cellia/Desktop/bigbang/FrontEnd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/utils/solarSystem.js\nimport*as THREE from\"three\";// ----------------------\n// 스케일 상수\n// ----------------------\nconst SCALE_DISTANCE=12;// 행성 거리 스케일 상향\nconst SCALE_SIZE=16;// 행성 크기 스케일 상향\nconst SUN_SCALE=14;// 태양 크기 스케일 상향\n// ----------------------\n// 태양계 행성 데이터\n// ----------------------\nexport const solarSystemPlanets=[{name:\"Mercury\",radius:60*SCALE_DISTANCE,size:3*SCALE_SIZE,color:0x888888,speed:0.02},{name:\"Venus\",radius:90*SCALE_DISTANCE,size:6*SCALE_SIZE,color:0xffa500,speed:0.015},{name:\"Earth\",radius:120*SCALE_DISTANCE,size:8*SCALE_SIZE,color:0x00bfff,speed:0.01},{name:\"Mars\",radius:150*SCALE_DISTANCE,size:5*SCALE_SIZE,color:0xff5533,speed:0.008},{name:\"Jupiter\",radius:190*SCALE_DISTANCE,size:12*SCALE_SIZE,color:0xc48a3a,speed:0.005},{name:\"Saturn\",radius:230*SCALE_DISTANCE,size:12*SCALE_SIZE,color:0xdec07a,speed:0.004,ring:true},{name:\"Uranus\",radius:270*SCALE_DISTANCE,size:9*SCALE_SIZE,color:0x8fd6e8,speed:0.003},{name:\"Neptune\",radius:310*SCALE_DISTANCE,size:9*SCALE_SIZE,color:0x3557ff,speed:0.0025}];// ----------------------\n// Canvas 기반 절차적 텍스처 유틸\n// ----------------------\nfunction createCanvasTexture(){let width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1024;let height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:512;let draw=arguments.length>2?arguments[2]:undefined;const canvas=document.createElement('canvas');canvas.width=width;canvas.height=height;const ctx=canvas.getContext('2d');draw(ctx,width,height);const texture=new THREE.CanvasTexture(canvas);texture.wrapS=THREE.RepeatWrapping;texture.wrapT=THREE.ClampToEdgeWrapping;texture.anisotropy=8;return texture;}function noise(ctx,w,h){let alpha=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0.1;const img=ctx.getImageData(0,0,w,h);const data=img.data;for(let i=0;i<data.length;i+=4){const n=Math.random()*255;data[i]=data[i]*(1-alpha)+n*alpha;data[i+1]=data[i+1]*(1-alpha)+n*alpha;data[i+2]=data[i+2]*(1-alpha)+n*alpha;}ctx.putImageData(img,0,0);}function createPlanetTexture(name,baseHex){const base=new THREE.Color(baseHex);return createCanvasTexture(1024,512,(ctx,w,h)=>{ctx.fillStyle=\"#\".concat(base.getHexString());ctx.fillRect(0,0,w,h);if(name==='Jupiter'||name==='Saturn'){for(let y=0;y<h;y+=12){const t=y/h;const shade=0.8+Math.sin(t*Math.PI*8)*0.15;const c=base.clone().multiplyScalar(shade);ctx.fillStyle=\"#\".concat(c.getHexString());ctx.fillRect(0,y,w,10);}}else if(name==='Uranus'||name==='Neptune'){for(let y=0;y<h;y+=18){const c=base.clone().offsetHSL(0,0,(Math.random()-0.5)*0.06);ctx.fillStyle=\"#\".concat(c.getHexString());ctx.fillRect(0,y,w,12);}ctx.globalAlpha=0.15;noise(ctx,w,h,0.2);ctx.globalAlpha=1;}else if(name==='Earth'){ctx.fillStyle='#1b4d89';ctx.fillRect(0,0,w,h);ctx.fillStyle='#2ea043';for(let i=0;i<90;i++){const x=Math.random()*w;const y=Math.random()*h;const r=8+Math.random()*40;ctx.beginPath();ctx.ellipse(x,y,r*(0.8+Math.random()*0.6),r,Math.random()*Math.PI,0,Math.PI*2);ctx.fill();}ctx.globalAlpha=0.12;noise(ctx,w,h,0.4);ctx.globalAlpha=1;}else if(name==='Venus'){for(let y=0;y<h;y+=16){const c=base.clone().offsetHSL(0,0,(Math.random()-0.5)*0.1);ctx.fillStyle=\"#\".concat(c.getHexString());ctx.fillRect(0,y,w,16);}ctx.globalAlpha=0.2;noise(ctx,w,h,0.3);ctx.globalAlpha=1;}else if(name==='Mars'||name==='Mercury'){for(let i=0;i<2000;i++){const x=Math.random()*w;const y=Math.random()*h;const r=Math.random()*3+1;const c=base.clone().offsetHSL(0,0,(Math.random()-0.5)*0.15);ctx.fillStyle=\"#\".concat(c.getHexString());ctx.beginPath();ctx.arc(x,y,r,0,Math.PI*2);ctx.fill();}ctx.globalAlpha=0.15;noise(ctx,w,h,0.3);ctx.globalAlpha=1;}});}function createRingTexture(){let inner=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.6;let outer=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1.2;const size=1024;return createCanvasTexture(size,size,(ctx,w,h)=>{const cx=w/2,cy=h/2,maxR=Math.min(cx,cy);const grad=ctx.createRadialGradient(cx,cy,inner*maxR,cx,cy,outer*maxR);grad.addColorStop(0.0,'rgba(255,255,255,0.0)');grad.addColorStop(0.3,'rgba(255,255,255,0.35)');grad.addColorStop(0.6,'rgba(200,180,140,0.25)');grad.addColorStop(1.0,'rgba(255,255,255,0.0)');ctx.fillStyle=grad;ctx.fillRect(0,0,w,h);});}// ----------------------\n// 절차적 하이트맵 -> 노멀 근사 생성\n// ----------------------\nfunction createNormalMapFromHeight(heightTex){const src=heightTex.image;const w=src.width,h=src.height;const canvas=document.createElement('canvas');canvas.width=w;canvas.height=h;const ctx=canvas.getContext('2d');ctx.drawImage(src,0,0);const img=ctx.getImageData(0,0,w,h);const data=img.data;const out=ctx.createImageData(w,h);const od=out.data;const getGray=(x,y)=>{x=Math.max(0,Math.min(w-1,x));y=Math.max(0,Math.min(h-1,y));const i=(y*w+x)*4;return data[i]/255;// R 채널만 사용\n};const strength=2.0;for(let y=0;y<h;y++){for(let x=0;x<w;x++){const dx=getGray(x+1,y)-getGray(x-1,y);const dy=getGray(x,y+1)-getGray(x,y-1);let nx=-dx*strength,ny=-dy*strength,nz=1.0;const len=Math.sqrt(nx*nx+ny*ny+nz*nz)||1;nx/=len;ny/=len;nz/=len;const i=(y*w+x)*4;od[i]=Math.round((nx*0.5+0.5)*255);od[i+1]=Math.round((ny*0.5+0.5)*255);od[i+2]=Math.round((nz*0.5+0.5)*255);od[i+3]=255;}}ctx.putImageData(out,0,0);const tex=new THREE.CanvasTexture(canvas);tex.anisotropy=8;return tex;}function createProceduralPlanetMaps(name,baseHex){const width=4096,height=2048;// 고해상도 캔버스\n// 색상 맵\nconst colorTex=createPlanetTexture(name,baseHex);// 하이트맵: 행성 유형별 높이 강조\nconst heightTex=createCanvasTexture(width,height,(ctx,w,h)=>{ctx.fillStyle='rgb(127,127,127)';ctx.fillRect(0,0,w,h);if(name==='Earth'){// 대륙을 약간 높게\nctx.globalAlpha=1;ctx.fillStyle='rgb(200,200,200)';for(let i=0;i<2000;i++){const x=Math.random()*w,y=Math.random()*h;const rw=12+Math.random()*60,rh=8+Math.random()*40;ctx.beginPath();ctx.ellipse(x,y,rw,rh,Math.random()*Math.PI,0,Math.PI*2);ctx.fill();}ctx.globalAlpha=0.15;noise(ctx,w,h,0.4);ctx.globalAlpha=1;}else if(name==='Mars'||name==='Mercury'){// 크레이터 질감\nctx.fillStyle='rgb(180,180,180)';for(let i=0;i<3500;i++){const x=Math.random()*w,y=Math.random()*h,r=Math.random()*4+1;ctx.beginPath();ctx.arc(x,y,r,0,Math.PI*2);ctx.fill();}ctx.globalAlpha=0.2;noise(ctx,w,h,0.5);ctx.globalAlpha=1;}else if(name==='Jupiter'||name==='Saturn'||name==='Uranus'||name==='Neptune'){// 가스 행성: 줄무늬의 높낮이 약간\nfor(let y=0;y<h;y+=6){const gray=110+Math.floor(Math.random()*30);ctx.fillStyle=\"rgb(\".concat(gray,\",\").concat(gray,\",\").concat(gray,\")\");ctx.fillRect(0,y,w,4);}ctx.globalAlpha=0.1;noise(ctx,w,h,0.3);ctx.globalAlpha=1;}});const normalTex=createNormalMapFromHeight(heightTex);return{colorTex,normalTex};}// ----------------------\n// 태양 생성\n// ----------------------\nexport function createSun(){const geo=new THREE.SphereGeometry(10,32,32);const mat=new THREE.MeshStandardMaterial({color:0xffff00,emissive:0xffff33,emissiveIntensity:1,metalness:0,roughness:0.4});const mesh=new THREE.Mesh(geo,mat);mesh.scale.set(SUN_SCALE,SUN_SCALE,SUN_SCALE);// 태양 스케일 적용\nmesh.userData.isSun=true;return mesh;}// ----------------------\n// 행성 생성\n// ----------------------\nexport function createPlanets(scene,CSS2DObject){return solarSystemPlanets.map(p=>{var _rotationMap$p$name;const geo=new THREE.SphereGeometry(p.size,96,96);let mat;if(p.name==='Earth'){// 8K PBR 텍스처 (public/textures/earth)\nconst albedo=loadTexture('/textures/earth/earth_8k_albedo.jpg');const normal=loadTexture('/textures/earth/earth_8k_normal.jpg');const rough=loadTexture('/textures/earth/earth_8k_roughness.jpg');const night=loadTexture('/textures/earth/earth_8k_night.jpg');mat=new THREE.MeshStandardMaterial({map:albedo,normalMap:normal,roughnessMap:rough,roughness:1.0,metalness:0.0,emissive:new THREE.Color(0xffffff),emissiveMap:night,emissiveIntensity:0.45});}else{const texture=createPlanetTexture(p.name,p.color);mat=new THREE.MeshStandardMaterial({map:texture,color:0xffffff,metalness:0.1,roughness:0.9});}const mesh=new THREE.Mesh(geo,mat);// 자전축 기울기\nconst tilts={Mercury:0.01,Venus:177*Math.PI/180,Earth:23.5*Math.PI/180,Mars:25*Math.PI/180,Jupiter:3*Math.PI/180,Saturn:27*Math.PI/180,Uranus:98*Math.PI/180,Neptune:28*Math.PI/180};mesh.rotation.z=tilts[p.name]||0;// 토성 고리\nif(p.ring){const inner=p.size*1.5;const outer=p.size*2.8;const ringGeo=new THREE.RingGeometry(inner,outer,256);const ringTex=createRingTexture(inner/outer*0.9,1.0);ringTex.wrapS=THREE.RepeatWrapping;ringTex.wrapT=THREE.RepeatWrapping;const ringMat=new THREE.MeshBasicMaterial({map:ringTex,side:THREE.DoubleSide,transparent:true,opacity:0.9});const ring=new THREE.Mesh(ringGeo,ringMat);ring.rotation.x=-Math.PI/2;ring.userData.isRing=true;mesh.add(ring);}// 지구 구름 레이어\nif(p.name==='Earth'){const cloudsGeo=new THREE.SphereGeometry(p.size*1.02,96,96);const cloudsTex=createCanvasTexture(1024,512,(ctx,w,h)=>{ctx.fillStyle='rgba(255,255,255,0)';ctx.fillRect(0,0,w,h);ctx.fillStyle='rgba(255,255,255,0.65)';for(let i=0;i<250;i++){const x=Math.random()*w;const y=Math.random()*h;const rw=30+Math.random()*120;const rh=12+Math.random()*40;ctx.beginPath();ctx.ellipse(x,y,rw,rh,Math.random()*Math.PI,0,Math.PI*2);ctx.fill();}ctx.globalAlpha=0.25;noise(ctx,w,h,0.2);ctx.globalAlpha=1;});const cloudsMat=new THREE.MeshStandardMaterial({map:cloudsTex,transparent:true,opacity:0.45,depthWrite:false});const clouds=new THREE.Mesh(cloudsGeo,cloudsMat);clouds.userData.isClouds=true;mesh.add(clouds);// 대기권(프레넬 근사): 카메라 각도에서 가장자리만 더 보이게\nconst atmosphereGeo=new THREE.SphereGeometry(p.size*1.06,96,96);const atmosphereMat=new THREE.MeshBasicMaterial({color:0x66aaff,transparent:true,opacity:0.06});const atmosphere=new THREE.Mesh(atmosphereGeo,atmosphereMat);atmosphere.userData.isAtmosphere=true;mesh.add(atmosphere);}mesh.userData.isPlanet=true;scene.add(mesh);// 행성 라벨\nif(CSS2DObject){const labelDiv=document.createElement(\"div\");labelDiv.className=\"label\";labelDiv.textContent=p.name;labelDiv.style.color=\"white\";labelDiv.style.fontSize=\"20px\";labelDiv.style.fontFamily=\"Arial\";labelDiv.style.pointerEvents=\"none\";const label=new CSS2DObject(labelDiv);label.position.set(0,p.size+10,0);mesh.add(label);}// 궤도 생성\nconst segments=128;const orbitPositions=[];for(let i=0;i<=segments;i++){const theta=i/segments*2*Math.PI;orbitPositions.push(p.radius*Math.cos(theta),0,p.radius*Math.sin(theta));}const orbitGeo=new THREE.BufferGeometry();orbitGeo.setAttribute(\"position\",new THREE.Float32BufferAttribute(orbitPositions,3));const orbitMat=new THREE.LineBasicMaterial({color:0xffffff,transparent:true,opacity:0.2});const orbitLine=new THREE.LineLoop(orbitGeo,orbitMat);orbitLine.userData.isOrbit=true;scene.add(orbitLine);const baseRotation=0.01;const rotationMap={Mercury:0.002,Venus:-0.001,Earth:0.02,Mars:0.018,Jupiter:0.05,Saturn:0.04,Uranus:-0.03,Neptune:0.03};const rotationSpeed=(_rotationMap$p$name=rotationMap[p.name])!==null&&_rotationMap$p$name!==void 0?_rotationMap$p$name:baseRotation;return _objectSpread(_objectSpread({},p),{},{mesh,angle:Math.random()*Math.PI*2,rotationSpeed});});}// ----------------------\n// 행성 위치 업데이트\n// ----------------------\nexport function updatePlanetPositions(planets){planets.forEach(p=>{p.angle+=p.speed;p.mesh.position.x=p.radius*Math.cos(p.angle);p.mesh.position.z=p.radius*Math.sin(p.angle);if(p.rotationSpeed){p.mesh.rotation.y+=p.rotationSpeed;const clouds=p.mesh.children&&p.mesh.children.find(c=>c.userData&&c.userData.isClouds);if(clouds)clouds.rotation.y+=p.rotationSpeed*1.2;}});}// ----------------------\n// 은하 생성\n// ----------------------\nexport function generateGalaxy(){let numStars=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5000;const geometry=new THREE.BufferGeometry();const positions=new Float32Array(numStars*3);const colors=new Float32Array(numStars*3);const color=new THREE.Color();for(let i=0;i<numStars;i++){const branch=i%4;const radius=Math.random()*400;const angle=radius*0.1+branch*Math.PI/2;const spread=(Math.random()-0.5)*15;positions[i*3]=radius*Math.cos(angle)+spread;positions[i*3+1]=(Math.random()-0.5)*50;positions[i*3+2]=radius*Math.sin(angle)+spread;const c=Math.random()*0.8+0.2;color.setRGB(c,c,c);colors[i*3]=color.r;colors[i*3+1]=color.g;colors[i*3+2]=color.b;}geometry.setAttribute(\"position\",new THREE.BufferAttribute(positions,3));geometry.setAttribute(\"color\",new THREE.BufferAttribute(colors,3));return new THREE.Points(geometry,new THREE.PointsMaterial({size:2,vertexColors:true}));}","map":{"version":3,"names":["THREE","SCALE_DISTANCE","SCALE_SIZE","SUN_SCALE","solarSystemPlanets","name","radius","size","color","speed","ring","createCanvasTexture","width","arguments","length","undefined","height","draw","canvas","document","createElement","ctx","getContext","texture","CanvasTexture","wrapS","RepeatWrapping","wrapT","ClampToEdgeWrapping","anisotropy","noise","w","h","alpha","img","getImageData","data","i","n","Math","random","putImageData","createPlanetTexture","baseHex","base","Color","fillStyle","concat","getHexString","fillRect","y","t","shade","sin","PI","c","clone","multiplyScalar","offsetHSL","globalAlpha","x","r","beginPath","ellipse","fill","arc","createRingTexture","inner","outer","cx","cy","maxR","min","grad","createRadialGradient","addColorStop","createNormalMapFromHeight","heightTex","src","image","drawImage","out","createImageData","od","getGray","max","strength","dx","dy","nx","ny","nz","len","sqrt","round","tex","createProceduralPlanetMaps","colorTex","rw","rh","gray","floor","normalTex","createSun","geo","SphereGeometry","mat","MeshStandardMaterial","emissive","emissiveIntensity","metalness","roughness","mesh","Mesh","scale","set","userData","isSun","createPlanets","scene","CSS2DObject","map","p","_rotationMap$p$name","albedo","loadTexture","normal","rough","night","normalMap","roughnessMap","emissiveMap","tilts","Mercury","Venus","Earth","Mars","Jupiter","Saturn","Uranus","Neptune","rotation","z","ringGeo","RingGeometry","ringTex","ringMat","MeshBasicMaterial","side","DoubleSide","transparent","opacity","isRing","add","cloudsGeo","cloudsTex","cloudsMat","depthWrite","clouds","isClouds","atmosphereGeo","atmosphereMat","atmosphere","isAtmosphere","isPlanet","labelDiv","className","textContent","style","fontSize","fontFamily","pointerEvents","label","position","segments","orbitPositions","theta","push","cos","orbitGeo","BufferGeometry","setAttribute","Float32BufferAttribute","orbitMat","LineBasicMaterial","orbitLine","LineLoop","isOrbit","baseRotation","rotationMap","rotationSpeed","_objectSpread","angle","updatePlanetPositions","planets","forEach","children","find","generateGalaxy","numStars","geometry","positions","Float32Array","colors","branch","spread","setRGB","g","b","BufferAttribute","Points","PointsMaterial","vertexColors"],"sources":["/Users/cellia/Desktop/bigbang/FrontEnd/src/utils/solarSystem.js"],"sourcesContent":["// src/utils/solarSystem.js\nimport * as THREE from \"three\";\n\n// ----------------------\n// 스케일 상수\n// ----------------------\nconst SCALE_DISTANCE = 12; // 행성 거리 스케일 상향\nconst SCALE_SIZE = 16;     // 행성 크기 스케일 상향\nconst SUN_SCALE = 14;      // 태양 크기 스케일 상향\n\n// ----------------------\n// 태양계 행성 데이터\n// ----------------------\nexport const solarSystemPlanets = [\n  { name: \"Mercury\", radius: 60 * SCALE_DISTANCE, size: 3 * SCALE_SIZE, color: 0x888888, speed: 0.02 },\n  { name: \"Venus\",   radius: 90 * SCALE_DISTANCE, size: 6 * SCALE_SIZE, color: 0xffa500, speed: 0.015 },\n  { name: \"Earth\",   radius: 120 * SCALE_DISTANCE, size: 8 * SCALE_SIZE, color: 0x00bfff, speed: 0.01 },\n  { name: \"Mars\",    radius: 150 * SCALE_DISTANCE, size: 5 * SCALE_SIZE, color: 0xff5533, speed: 0.008 },\n  { name: \"Jupiter\", radius: 190 * SCALE_DISTANCE, size: 12 * SCALE_SIZE, color: 0xc48a3a, speed: 0.005 },\n  { name: \"Saturn\",  radius: 230 * SCALE_DISTANCE, size: 12 * SCALE_SIZE, color: 0xdec07a, speed: 0.004, ring: true },\n  { name: \"Uranus\",  radius: 270 * SCALE_DISTANCE, size: 9 * SCALE_SIZE, color: 0x8fd6e8, speed: 0.003 },\n  { name: \"Neptune\", radius: 310 * SCALE_DISTANCE, size: 9 * SCALE_SIZE, color: 0x3557ff, speed: 0.0025 },\n];\n\n// ----------------------\n// Canvas 기반 절차적 텍스처 유틸\n// ----------------------\nfunction createCanvasTexture(width = 1024, height = 512, draw) {\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  const ctx = canvas.getContext('2d');\n  draw(ctx, width, height);\n  const texture = new THREE.CanvasTexture(canvas);\n  texture.wrapS = THREE.RepeatWrapping;\n  texture.wrapT = THREE.ClampToEdgeWrapping;\n  texture.anisotropy = 8;\n  return texture;\n}\n\nfunction noise(ctx, w, h, alpha = 0.1) {\n  const img = ctx.getImageData(0, 0, w, h);\n  const data = img.data;\n  for (let i = 0; i < data.length; i += 4) {\n    const n = Math.random() * 255;\n    data[i] = (data[i] * (1 - alpha)) + n * alpha;\n    data[i + 1] = (data[i + 1] * (1 - alpha)) + n * alpha;\n    data[i + 2] = (data[i + 2] * (1 - alpha)) + n * alpha;\n  }\n  ctx.putImageData(img, 0, 0);\n}\n\nfunction createPlanetTexture(name, baseHex) {\n  const base = new THREE.Color(baseHex);\n  return createCanvasTexture(1024, 512, (ctx, w, h) => {\n    ctx.fillStyle = `#${base.getHexString()}`;\n    ctx.fillRect(0, 0, w, h);\n\n    if (name === 'Jupiter' || name === 'Saturn') {\n      for (let y = 0; y < h; y += 12) {\n        const t = y / h;\n        const shade = 0.8 + Math.sin(t * Math.PI * 8) * 0.15;\n        const c = base.clone().multiplyScalar(shade);\n        ctx.fillStyle = `#${c.getHexString()}`;\n        ctx.fillRect(0, y, w, 10);\n      }\n    } else if (name === 'Uranus' || name === 'Neptune') {\n      for (let y = 0; y < h; y += 18) {\n        const c = base.clone().offsetHSL(0, 0, (Math.random() - 0.5) * 0.06);\n        ctx.fillStyle = `#${c.getHexString()}`;\n        ctx.fillRect(0, y, w, 12);\n      }\n      ctx.globalAlpha = 0.15; noise(ctx, w, h, 0.2); ctx.globalAlpha = 1;\n    } else if (name === 'Earth') {\n      ctx.fillStyle = '#1b4d89';\n      ctx.fillRect(0, 0, w, h);\n      ctx.fillStyle = '#2ea043';\n      for (let i = 0; i < 90; i++) {\n        const x = Math.random() * w;\n        const y = Math.random() * h;\n        const r = 8 + Math.random() * 40;\n        ctx.beginPath();\n        ctx.ellipse(x, y, r * (0.8 + Math.random()*0.6), r, Math.random()*Math.PI, 0, Math.PI*2);\n        ctx.fill();\n      }\n      ctx.globalAlpha = 0.12; noise(ctx, w, h, 0.4); ctx.globalAlpha = 1;\n    } else if (name === 'Venus') {\n      for (let y = 0; y < h; y += 16) {\n        const c = base.clone().offsetHSL(0, 0, (Math.random() - 0.5) * 0.1);\n        ctx.fillStyle = `#${c.getHexString()}`;\n        ctx.fillRect(0, y, w, 16);\n      }\n      ctx.globalAlpha = 0.2; noise(ctx, w, h, 0.3); ctx.globalAlpha = 1;\n    } else if (name === 'Mars' || name === 'Mercury') {\n      for (let i = 0; i < 2000; i++) {\n        const x = Math.random() * w;\n        const y = Math.random() * h;\n        const r = Math.random() * 3 + 1;\n        const c = base.clone().offsetHSL(0, 0, (Math.random() - 0.5) * 0.15);\n        ctx.fillStyle = `#${c.getHexString()}`;\n        ctx.beginPath();\n        ctx.arc(x, y, r, 0, Math.PI * 2);\n        ctx.fill();\n      }\n      ctx.globalAlpha = 0.15; noise(ctx, w, h, 0.3); ctx.globalAlpha = 1;\n    }\n  });\n}\n\nfunction createRingTexture(inner = 0.6, outer = 1.2) {\n  const size = 1024;\n  return createCanvasTexture(size, size, (ctx, w, h) => {\n    const cx = w / 2, cy = h / 2, maxR = Math.min(cx, cy);\n    const grad = ctx.createRadialGradient(cx, cy, inner * maxR, cx, cy, outer * maxR);\n    grad.addColorStop(0.0, 'rgba(255,255,255,0.0)');\n    grad.addColorStop(0.3, 'rgba(255,255,255,0.35)');\n    grad.addColorStop(0.6, 'rgba(200,180,140,0.25)');\n    grad.addColorStop(1.0, 'rgba(255,255,255,0.0)');\n    ctx.fillStyle = grad;\n    ctx.fillRect(0, 0, w, h);\n  });\n}\n\n// ----------------------\n// 절차적 하이트맵 -> 노멀 근사 생성\n// ----------------------\nfunction createNormalMapFromHeight(heightTex) {\n  const src = heightTex.image;\n  const w = src.width, h = src.height;\n  const canvas = document.createElement('canvas');\n  canvas.width = w; canvas.height = h;\n  const ctx = canvas.getContext('2d');\n  ctx.drawImage(src, 0, 0);\n  const img = ctx.getImageData(0, 0, w, h);\n  const data = img.data;\n  const out = ctx.createImageData(w, h);\n  const od = out.data;\n  const getGray = (x, y) => {\n    x = Math.max(0, Math.min(w - 1, x));\n    y = Math.max(0, Math.min(h - 1, y));\n    const i = (y * w + x) * 4;\n    return data[i] / 255; // R 채널만 사용\n  };\n  const strength = 2.0;\n  for (let y = 0; y < h; y++) {\n    for (let x = 0; x < w; x++) {\n      const dx = getGray(x + 1, y) - getGray(x - 1, y);\n      const dy = getGray(x, y + 1) - getGray(x, y - 1);\n      let nx = -dx * strength, ny = -dy * strength, nz = 1.0;\n      const len = Math.sqrt(nx * nx + ny * ny + nz * nz) || 1;\n      nx /= len; ny /= len; nz /= len;\n      const i = (y * w + x) * 4;\n      od[i] = Math.round((nx * 0.5 + 0.5) * 255);\n      od[i + 1] = Math.round((ny * 0.5 + 0.5) * 255);\n      od[i + 2] = Math.round((nz * 0.5 + 0.5) * 255);\n      od[i + 3] = 255;\n    }\n  }\n  ctx.putImageData(out, 0, 0);\n  const tex = new THREE.CanvasTexture(canvas);\n  tex.anisotropy = 8;\n  return tex;\n}\n\nfunction createProceduralPlanetMaps(name, baseHex) {\n  const width = 4096, height = 2048; // 고해상도 캔버스\n  // 색상 맵\n  const colorTex = createPlanetTexture(name, baseHex);\n  // 하이트맵: 행성 유형별 높이 강조\n  const heightTex = createCanvasTexture(width, height, (ctx, w, h) => {\n    ctx.fillStyle = 'rgb(127,127,127)';\n    ctx.fillRect(0, 0, w, h);\n    if (name === 'Earth') {\n      // 대륙을 약간 높게\n      ctx.globalAlpha = 1;\n      ctx.fillStyle = 'rgb(200,200,200)';\n      for (let i = 0; i < 2000; i++) {\n        const x = Math.random() * w, y = Math.random() * h;\n        const rw = 12 + Math.random() * 60, rh = 8 + Math.random() * 40;\n        ctx.beginPath();\n        ctx.ellipse(x, y, rw, rh, Math.random() * Math.PI, 0, Math.PI * 2);\n        ctx.fill();\n      }\n      ctx.globalAlpha = 0.15; noise(ctx, w, h, 0.4); ctx.globalAlpha = 1;\n    } else if (name === 'Mars' || name === 'Mercury') {\n      // 크레이터 질감\n      ctx.fillStyle = 'rgb(180,180,180)';\n      for (let i = 0; i < 3500; i++) {\n        const x = Math.random() * w, y = Math.random() * h, r = Math.random() * 4 + 1;\n        ctx.beginPath(); ctx.arc(x, y, r, 0, Math.PI * 2); ctx.fill();\n      }\n      ctx.globalAlpha = 0.2; noise(ctx, w, h, 0.5); ctx.globalAlpha = 1;\n    } else if (name === 'Jupiter' || name === 'Saturn' || name === 'Uranus' || name === 'Neptune') {\n      // 가스 행성: 줄무늬의 높낮이 약간\n      for (let y = 0; y < h; y += 6) {\n        const gray = 110 + Math.floor(Math.random() * 30);\n        ctx.fillStyle = `rgb(${gray},${gray},${gray})`;\n        ctx.fillRect(0, y, w, 4);\n      }\n      ctx.globalAlpha = 0.1; noise(ctx, w, h, 0.3); ctx.globalAlpha = 1;\n    }\n  });\n  const normalTex = createNormalMapFromHeight(heightTex);\n  return { colorTex, normalTex };\n}\n\n// ----------------------\n// 태양 생성\n// ----------------------\nexport function createSun() {\n  const geo = new THREE.SphereGeometry(10, 32, 32);\n  const mat = new THREE.MeshStandardMaterial({\n    color: 0xffff00,\n    emissive: 0xffff33,\n    emissiveIntensity: 1,\n    metalness: 0,\n    roughness: 0.4,\n  });\n  const mesh = new THREE.Mesh(geo, mat);\n  mesh.scale.set(SUN_SCALE, SUN_SCALE, SUN_SCALE); // 태양 스케일 적용\n  mesh.userData.isSun = true;\n  return mesh;\n}\n\n// ----------------------\n// 행성 생성\n// ----------------------\nexport function createPlanets(scene, CSS2DObject) {\n  return solarSystemPlanets.map(p => {\n    const geo = new THREE.SphereGeometry(p.size, 96, 96);\n    let mat;\n    if (p.name === 'Earth') {\n      // 8K PBR 텍스처 (public/textures/earth)\n      const albedo = loadTexture('/textures/earth/earth_8k_albedo.jpg');\n      const normal = loadTexture('/textures/earth/earth_8k_normal.jpg');\n      const rough  = loadTexture('/textures/earth/earth_8k_roughness.jpg');\n      const night  = loadTexture('/textures/earth/earth_8k_night.jpg');\n\n      mat = new THREE.MeshStandardMaterial({\n        map: albedo,\n        normalMap: normal,\n        roughnessMap: rough,\n        roughness: 1.0,\n        metalness: 0.0,\n        emissive: new THREE.Color(0xffffff),\n        emissiveMap: night,\n        emissiveIntensity: 0.45,\n      });\n    } else {\n      const texture = createPlanetTexture(p.name, p.color);\n      mat = new THREE.MeshStandardMaterial({\n        map: texture,\n        color: 0xffffff,\n        metalness: 0.1,\n        roughness: 0.9,\n      });\n    }\n    const mesh = new THREE.Mesh(geo, mat);\n\n    // 자전축 기울기\n    const tilts = { Mercury: 0.01, Venus: 177 * Math.PI/180, Earth: 23.5 * Math.PI/180, Mars: 25 * Math.PI/180, Jupiter: 3 * Math.PI/180, Saturn: 27 * Math.PI/180, Uranus: 98 * Math.PI/180, Neptune: 28 * Math.PI/180 };\n    mesh.rotation.z = tilts[p.name] || 0;\n\n    // 토성 고리\n    if (p.ring) {\n      const inner = p.size * 1.5;\n      const outer = p.size * 2.8;\n      const ringGeo = new THREE.RingGeometry(inner, outer, 256);\n      const ringTex = createRingTexture(inner/outer * 0.9, 1.0);\n      ringTex.wrapS = THREE.RepeatWrapping;\n      ringTex.wrapT = THREE.RepeatWrapping;\n      const ringMat = new THREE.MeshBasicMaterial({ map: ringTex, side: THREE.DoubleSide, transparent: true, opacity: 0.9 });\n      const ring = new THREE.Mesh(ringGeo, ringMat);\n      ring.rotation.x = -Math.PI / 2;\n      ring.userData.isRing = true;\n      mesh.add(ring);\n    }\n\n    // 지구 구름 레이어\n    if (p.name === 'Earth') {\n      const cloudsGeo = new THREE.SphereGeometry(p.size * 1.02, 96, 96);\n      const cloudsTex = createCanvasTexture(1024, 512, (ctx, w, h) => {\n        ctx.fillStyle = 'rgba(255,255,255,0)';\n        ctx.fillRect(0, 0, w, h);\n        ctx.fillStyle = 'rgba(255,255,255,0.65)';\n        for (let i = 0; i < 250; i++) {\n          const x = Math.random() * w;\n          const y = Math.random() * h;\n          const rw = 30 + Math.random() * 120;\n          const rh = 12 + Math.random() * 40;\n          ctx.beginPath();\n          ctx.ellipse(x, y, rw, rh, Math.random() * Math.PI, 0, Math.PI * 2);\n          ctx.fill();\n        }\n        ctx.globalAlpha = 0.25; noise(ctx, w, h, 0.2); ctx.globalAlpha = 1;\n      });\n      const cloudsMat = new THREE.MeshStandardMaterial({ map: cloudsTex, transparent: true, opacity: 0.45, depthWrite: false });\n      const clouds = new THREE.Mesh(cloudsGeo, cloudsMat);\n      clouds.userData.isClouds = true;\n      mesh.add(clouds);\n\n      // 대기권(프레넬 근사): 카메라 각도에서 가장자리만 더 보이게\n      const atmosphereGeo = new THREE.SphereGeometry(p.size * 1.06, 96, 96);\n      const atmosphereMat = new THREE.MeshBasicMaterial({ color: 0x66aaff, transparent: true, opacity: 0.06 });\n      const atmosphere = new THREE.Mesh(atmosphereGeo, atmosphereMat);\n      atmosphere.userData.isAtmosphere = true;\n      mesh.add(atmosphere);\n    }\n\n\n    mesh.userData.isPlanet = true;\n    scene.add(mesh);\n\n    // 행성 라벨\n    if (CSS2DObject) {\n      const labelDiv = document.createElement(\"div\");\n      labelDiv.className = \"label\";\n      labelDiv.textContent = p.name;\n      labelDiv.style.color = \"white\";\n      labelDiv.style.fontSize = \"20px\";\n      labelDiv.style.fontFamily = \"Arial\";\n      labelDiv.style.pointerEvents = \"none\";\n      const label = new CSS2DObject(labelDiv);\n      label.position.set(0, p.size + 10, 0);\n      mesh.add(label);\n    }\n\n    // 궤도 생성\n    const segments = 128;\n    const orbitPositions = [];\n    for (let i = 0; i <= segments; i++) {\n      const theta = (i / segments) * 2 * Math.PI;\n      orbitPositions.push(p.radius * Math.cos(theta), 0, p.radius * Math.sin(theta));\n    }\n    const orbitGeo = new THREE.BufferGeometry();\n    orbitGeo.setAttribute(\"position\", new THREE.Float32BufferAttribute(orbitPositions, 3));\n    const orbitMat = new THREE.LineBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0.2 });\n    const orbitLine = new THREE.LineLoop(orbitGeo, orbitMat);\n    orbitLine.userData.isOrbit = true;\n    scene.add(orbitLine);\n\n    const baseRotation = 0.01;\n    const rotationMap = { Mercury: 0.002, Venus: -0.001, Earth: 0.02, Mars: 0.018, Jupiter: 0.05, Saturn: 0.04, Uranus: -0.03, Neptune: 0.03 };\n    const rotationSpeed = rotationMap[p.name] ?? baseRotation;\n    return { ...p, mesh, angle: Math.random() * Math.PI * 2, rotationSpeed };\n  });\n}\n\n// ----------------------\n// 행성 위치 업데이트\n// ----------------------\nexport function updatePlanetPositions(planets) {\n  planets.forEach(p => {\n    p.angle += p.speed;\n    p.mesh.position.x = p.radius * Math.cos(p.angle);\n    p.mesh.position.z = p.radius * Math.sin(p.angle);\n    if (p.rotationSpeed) {\n      p.mesh.rotation.y += p.rotationSpeed;\n      const clouds = p.mesh.children && p.mesh.children.find(c => c.userData && c.userData.isClouds);\n      if (clouds) clouds.rotation.y += p.rotationSpeed * 1.2;\n    }\n  });\n}\n\n// ----------------------\n// 은하 생성\n// ----------------------\nexport function generateGalaxy(numStars = 5000) {\n  const geometry = new THREE.BufferGeometry();\n  const positions = new Float32Array(numStars * 3);\n  const colors = new Float32Array(numStars * 3);\n  const color = new THREE.Color();\n\n  for (let i = 0; i < numStars; i++) {\n    const branch = i % 4;\n    const radius = Math.random() * 400;\n    const angle = radius * 0.1 + branch * Math.PI / 2;\n    const spread = (Math.random() - 0.5) * 15;\n\n    positions[i * 3] = radius * Math.cos(angle) + spread;\n    positions[i * 3 + 1] = (Math.random() - 0.5) * 50;\n    positions[i * 3 + 2] = radius * Math.sin(angle) + spread;\n\n    const c = Math.random() * 0.8 + 0.2;\n    color.setRGB(c, c, c);\n    colors[i * 3] = color.r;\n    colors[i * 3 + 1] = color.g;\n    colors[i * 3 + 2] = color.b;\n  }\n\n  geometry.setAttribute(\"position\", new THREE.BufferAttribute(positions, 3));\n  geometry.setAttribute(\"color\", new THREE.BufferAttribute(colors, 3));\n\n  return new THREE.Points(\n    geometry,\n    new THREE.PointsMaterial({ size: 2, vertexColors: true })\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}